<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ReportGenerator.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Student-Grade-Management</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">ReportGenerator.java</span></div><h1>ReportGenerator.java</h1><pre class="source lang-java linenums">// This class handles the formatting and string generation for grade reports
<span class="nc" id="L2">public class ReportGenerator {</span>

    // This method generates a text-based summary of a student's performance
    public String generateSummaryReport(Student student, GradeManager gm) {
<span class="nc" id="L6">        StringBuilder sb = new StringBuilder();</span>
<span class="nc" id="L7">        String studentId = student.getStudentId();</span>
<span class="nc" id="L8">        double overallAvg = gm.calculateOverallAverage(studentId);</span>

<span class="nc" id="L10">        sb.append(&quot;STUDENT GRADE REPORT - SUMMARY\n&quot;);</span>
<span class="nc" id="L11">        sb.append(&quot;__________________________________________________\n&quot;);</span>
<span class="nc" id="L12">        sb.append(&quot;Student: &quot;).append(studentId).append(&quot; &quot;).append(student.getName()).append(&quot;\n&quot;);</span>
<span class="nc" id="L13">        sb.append(&quot;Type: &quot;).append(student.getStudentType()).append(&quot;\n&quot;);</span>
<span class="nc" id="L14">        sb.append(&quot;Status: &quot;).append(student.getStatus()).append(&quot;\n&quot;);</span>
<span class="nc" id="L15">        sb.append(&quot;__________________________________________________\n\n&quot;);</span>

<span class="nc" id="L17">        sb.append(&quot;PERFORMANCE SUMMARY\n&quot;);</span>
<span class="nc" id="L18">        sb.append(&quot;Total Grades: &quot;).append(gm.getEnrolledSubjectCount(studentId)).append(&quot;\n&quot;);</span>
<span class="nc" id="L19">        sb.append(String.format(&quot;Core Subjects Average: %.1f%%%n&quot;, gm.calculateCoreAverage(studentId)));</span>
<span class="nc" id="L20">        sb.append(String.format(&quot;Elective Subjects Average: %.1f%%%n&quot;, gm.calculateElectiveAverage(studentId)));</span>
<span class="nc" id="L21">        sb.append(String.format(&quot;Overall Average: %.1f%%%n&quot;, overallAvg));</span>
<span class="nc bnc" id="L22" title="All 2 branches missed.">        sb.append(&quot;Passing: &quot;).append(student.isPassing(overallAvg) ? &quot;Yes&quot; : &quot;No&quot;).append(&quot;\n&quot;);</span>

<span class="nc" id="L24">        return sb.toString();</span>
    }

    // This method generates a detailed report listing all grades for a student
    public String generateDetailedReport(Student student, GradeManager gm) {
<span class="nc" id="L29">        StringBuilder sb = new StringBuilder();</span>
<span class="nc" id="L30">        String studentId = student.getStudentId();</span>

<span class="nc" id="L32">        sb.append(&quot;STUDENT GRADE REPORT - DETAILED\n&quot;);</span>
<span class="nc" id="L33">        sb.append(&quot;__________________________________________________\n&quot;);</span>
<span class="nc" id="L34">        sb.append(&quot;Student: &quot;).append(studentId).append(&quot; &quot;).append(student.getName()).append(&quot;\n&quot;);</span>
<span class="nc" id="L35">        sb.append(&quot;__________________________________________________\n\n&quot;);</span>

<span class="nc" id="L37">        appendGradeList(sb, gm.getGradesForStudent(studentId));</span>

<span class="nc" id="L39">        return sb.toString();</span>
    }

    // This method combines both summary and detailed reports
    public String generateBothReport(Student student, GradeManager gm) {
<span class="nc" id="L44">        StringBuilder sb = new StringBuilder();</span>
<span class="nc" id="L45">        String studentId = student.getStudentId();</span>

<span class="nc" id="L47">        sb.append(generateSummaryReport(student, gm));</span>
<span class="nc" id="L48">        sb.append(&quot;\n__________________________________________________\n&quot;);</span>
<span class="nc" id="L49">        appendGradeList(sb, gm.getGradesForStudent(studentId));</span>

<span class="nc" id="L51">        return sb.toString();</span>
    }

    // This helper method formats the list of grades into a table
    private void appendGradeList(StringBuilder sb, java.util.List&lt;Grade&gt; grades) {
<span class="nc" id="L56">        sb.append(&quot;DETAILED GRADE HISTORY\n&quot;);</span>
<span class="nc" id="L57">        sb.append(String.format(&quot;%-12s | %-15s | %-10s | %-8s%n&quot;, &quot;DATE&quot;, &quot;SUBJECT&quot;, &quot;TYPE&quot;, &quot;GRADE&quot;));</span>
<span class="nc" id="L58">        sb.append(&quot;--------------------------------------------------\n&quot;);</span>

<span class="nc bnc" id="L60" title="All 2 branches missed.">        for (Grade grade : grades) {</span>
<span class="nc" id="L61">            sb.append(String.format(&quot;%-12s | %-15s | %-10s | %-8.1f%%%n&quot;,</span>
<span class="nc" id="L62">                    grade.getDate(),</span>
<span class="nc" id="L63">                    grade.getSubject().getSubjectName(),</span>
<span class="nc" id="L64">                    grade.getSubject().getSubjectType(),</span>
<span class="nc" id="L65">                    grade.getGrade()));</span>
<span class="nc" id="L66">        }</span>
<span class="nc" id="L67">        sb.append(&quot;__________________________________________________\n&quot;);</span>
<span class="nc" id="L68">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>